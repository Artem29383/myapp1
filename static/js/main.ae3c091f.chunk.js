(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{1:function(e,t,a){e.exports={data__footer:"Footer_data__footer__2lxAh",todo__count:"Footer_todo__count__3V25F",filters:"Footer_filters__5t2EO",clear:"Footer_clear__2aJGt",active:"Footer_active__14w6u",filterBtnJs:"Footer_filterBtnJs__2B824",footer__inner:"Footer_footer__inner__1dpFZ"}},14:function(e,t,a){e.exports={header__text:"TodoList_header__text__1Fz0m",todo:"TodoList_todo__1CS5R"}},15:function(e,t,a){e.exports={main:"TaskList_main__DLCrZ",todo__list:"TaskList_todo__list__1OXWA"}},19:function(e,t,a){e.exports=a(30)},2:function(e,t,a){e.exports={item:"Task_item__2Ugjx",removebtn:"Task_removebtn__R_aGf",toggle:"Task_toggle__A4FfK",redactor:"Task_redactor__3pPaR",task__text:"Task_task__text__1IrBa",checkbox__custom:"Task_checkbox__custom__dMvd_",text:"Task_text__2Hyq1",check:"Task_check__NIDTR",edit:"Task_edit__1wp3_",active:"Task_active__1EmoS"}},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),s=a.n(r),l=(a(24),function(e){return e.task.tasks}),o=function(e){return e.task.init},i=function(e){return e.task.allSelected},u=function(e){return e.task.leftTasks},k=function(e){return e.task.filter},_=a(10),f=a(9);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={tasks:[],init:!1,allSelected:!1,leftTasks:0,filter:"All"},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":if(""!==t.valueTask.trim())return m({},e,{tasks:[].concat(Object(_.a)(e.tasks),[{id:t.taskId,check:!1,title:t.valueTask}])});case"CHANGE__CHECK":return m({},e,{tasks:e.tasks.map((function(e){return e.id===t.taskId?m({},e,{check:!e.check}):m({},e,{check:e.check})}))});case"REMOVE_TASK":return m({},e,{tasks:e.tasks.filter((function(e){return e.id!==t.taskId}))});case"REMOVE_SELECT_TASKS":return m({},e,{tasks:e.tasks.filter((function(e){return!e.check}))});case"OUTPUT_TAKS_FROM_LOCALSTORAGE":return m({},e,{tasks:[].concat(Object(_.a)(e.tasks),Object(_.a)(t.tasks))});case"INITIALIZATION":return m({},e,{init:!0});case"SELECT_ALL_TASK":return m({},e,{tasks:e.tasks.map((function(t){return m({},t,{check:!e.allSelected})}))});case"CONTROL_ALL_SELECTED":return m({},e,{allSelected:!e.leftTasks&&e.tasks.length});case"LEFT_TASKS":return m({},e,{leftTasks:e.tasks.filter((function(e){return!e.check})).length});case"END_EDIT_TASK":return m({},e,{tasks:e.tasks.map((function(e){return e.id===t.taskId?m({},e,{title:t.message}):m({},e)}))});case"REMOVE_EMPTY_TASK":return m({},e,{tasks:e.tasks.filter((function(e){return""!==e.title}))});case"FILTER_TASKS":return m({},e,{filter:t.filterMethod});case"OUTPUT_FILTER_FROM_LOCALSTORAGE":return m({},e,{filter:t.filterValue});default:return e}},g=a(18),h=a(14),p=a.n(h),S=a(15),O=a.n(S),A=a(7),v=a(2),C=a.n(v),b=function(e){return c.a.createElement("li",{className:C.a.item,onDoubleClick:e.startChangeTask},e.editMode?c.a.createElement("input",{ref:e.currentEditTask,autoFocus:!0,className:e.editMode?"".concat(C.a.edit," ").concat(C.a.active):"".concat(C.a.edit),value:e.cacheValueTask,onChange:function(t){return e.changeValueTask(t.currentTarget.value)},onBlur:function(t){e.stopChangeTask(t,e.cacheValueTask)},onKeyDown:function(t){e.stopChangeTask(t,e.cacheValueTask)}}):c.a.createElement("label",{className:C.a.toggle},c.a.createElement("input",{type:"checkbox"}),c.a.createElement("span",{onClick:e.changeBox,className:e.check?"".concat(C.a.checkbox__custom," ").concat(C.a.check):"".concat(C.a.checkbox__custom)}),c.a.createElement("span",{className:C.a.text,id:e.id},e.task),c.a.createElement("button",{className:C.a.removebtn,onClick:e.removeTask}),c.a.createElement("button",{className:C.a.task__text})))},y=function(e){var t=Object(n.useState)(!1),a=Object(A.a)(t,2),r=a[0],s=a[1],l=Object(n.useState)(""),o=Object(A.a)(l,2),i=o[0],u=o[1],k=c.a.createRef(),_=function(t){e.endEditTask(e.id,t),""===t&&e.removeEmptyTask(),s(!1)};return c.a.createElement(b,{check:e.check,id:e.id,task:e.task,editMode:r,cacheValueTask:i,currentEditTask:k,changeBox:function(){e.changeCheck(e.id)},removeTask:function(){e.removeTask(e.id)},startChangeTask:function(){s(!0),u(e.task)},changeValueTask:function(e){u(e)},stopEditTask:_,stopChangeTask:function(t,a){"Enter"===t.key?_(a):t.currentTarget!==k.current||t.key?"Escape"===t.key&&_(e.task):_(a)}})},L=function(e){var t=e.tasks.map((function(t,a){return"All"===e.filter?c.a.createElement(y,Object.assign({key:a,id:t.id,check:t.check,task:t.title},e)):"Active"!==e.filter||t.check?"Completed"===e.filter&&t.check?c.a.createElement(y,Object.assign({key:a,id:t.id,check:t.check,task:t.title},e)):void 0:c.a.createElement(y,Object.assign({key:a,id:t.id,check:t.check,task:t.title},e))}));return c.a.createElement("section",{className:O.a.main},c.a.createElement("ul",{className:O.a.todo__list},t))},N=a(5),F=a.n(N),I=function(e){return c.a.createElement("div",{className:F.a.header},c.a.createElement("input",{onChange:e.changeValue,autoFocus:!0,className:F.a.todos__input,placeholder:"What needs to be done?",value:e.value,onKeyDown:function(t){return e.onKeyDownCreateTask(t.key,e.value)}}),c.a.createElement((function(e){return e.leftTasks||e.tasks.length?c.a.createElement("button",{onClick:e.selectAll,className:e.allSelected?"".concat(F.a.toggle__all," ").concat(F.a.active):"".concat(F.a.toggle__all)}):c.a.createElement(c.a.Fragment,null," ")}),{leftTasks:e.leftTasks,tasks:e.tasks,allSelected:e.allSelected,selectAll:e.selectAll}))},j=function(e){var t=Object(n.useState)(""),a=Object(A.a)(t,2),r=a[0],s=a[1];return c.a.createElement(I,{leftTasks:e.leftTasks,tasks:e.tasks,changeValue:function(e){s(e.currentTarget.value)},onKeyDownCreateTask:function(t,a){"Enter"===t&&(e.addTask(Math.floor(1+1e16*Math.random()),a),s(""))},selectAll:function(){e.selectedAllTasks()},value:r})},x=a(1),K=a.n(x),R=function(e){return c.a.createElement("div",{className:K.a.data__footer},c.a.createElement("span",{className:K.a.todo__count},c.a.createElement("strong",null,e.leftTasks),"item left"),c.a.createElement("ul",{className:K.a.filters},c.a.createElement("li",null,c.a.createElement("a",{href:"#/All",className:"All"===e.filter?"".concat(K.a.filterBtnJs," ").concat(K.a.active):"".concat(K.a.filterBtnJs),onClick:function(t){return e.filterTasks(t.currentTarget.innerText)}},"All")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/Active",className:"Active"===e.filter?"".concat(K.a.filterBtnJs," ").concat(K.a.active):"".concat(K.a.filterBtnJs),onClick:function(t){return e.filterTasks(t.currentTarget.innerText)}},"Active")),c.a.createElement("li",null,c.a.createElement("a",{href:"#/Completed",className:"Completed"===e.filter?"".concat(K.a.filterBtnJs," ").concat(K.a.active):"".concat(K.a.filterBtnJs),onClick:function(t){return e.filterTasks(t.currentTarget.innerText)}},"Completed"))),c.a.createElement("button",{className:e.leftTasks<e.tasks.length?"".concat(K.a.clear," ").concat(K.a.active):"".concat(K.a.clear),onClick:function(){e.removeSelectedTasks()}},"Clear completed"))},D=function(e){return c.a.createElement(R,Object(f.a)({leftTasks:e.leftTasks,removeSelectedTasks:e.removeSelectedTasks,tasks:e.tasks,filterTasks:e.filterTasks,filter:e.filter},"filterTasks",(function(t){e.filterTasks(t),localStorage.setItem("filter",JSON.stringify(t))})))},M=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("header",{className:p.a.header__text},"todos"),c.a.createElement("div",{className:p.a.todo},c.a.createElement(j,e),c.a.createElement(L,e),e.leftTasks||e.tasks.length?c.a.createElement(D,e):c.a.createElement(c.a.Fragment,null," ")))},w=Object(g.a)((function(e){return{tasks:l(e),init:o(e),allSelected:i(e),leftTasks:u(e),filter:k(e)}}),{changeCheck:function(e){return{type:"CHANGE__CHECK",taskId:e}},removeTask:function(e){return{type:"REMOVE_TASK",taskId:e}},initState:function(){return{type:"INITIALIZATION"}},selectedAllTasks:function(){return{type:"SELECT_ALL_TASK"}},controllAllSelected:function(){return{type:"CONTROL_ALL_SELECTED"}},getCountLeftTasks:function(){return{type:"LEFT_TASKS"}},removeSelectedTasks:function(){return{type:"REMOVE_SELECT_TASKS"}},outputFromLocalStorage:function(e){return{type:"OUTPUT_TAKS_FROM_LOCALSTORAGE",tasks:e}},addTask:function(e,t){return{type:"ADD_TASK",taskId:e,valueTask:t}},endEditTask:function(e,t){return{type:"END_EDIT_TASK",taskId:e,message:t}},removeEmptyTask:function(){return{type:"REMOVE_EMPTY_TASK"}},filterTasks:function(e){return{type:"FILTER_TASKS",filterMethod:e}},outputFilterFromLocalStorage:function(e){return{type:"OUTPUT_FILTER_FROM_LOCALSTORAGE",filterValue:e}}})((function(e){return Object(n.useEffect)((function(){localStorage.getItem("todo")&&e.outputFromLocalStorage(JSON.parse(localStorage.getItem("todo"))),localStorage.getItem("filter")&&e.outputFilterFromLocalStorage(JSON.parse(localStorage.getItem("filter"))),e.initState()}),[]),Object(n.useEffect)((function(){e.getCountLeftTasks(),e.controllAllSelected(),localStorage.setItem("todo",JSON.stringify(e.tasks))}),[e.tasks]),c.a.createElement(c.a.Fragment,null,e.init?c.a.createElement(M,e):c.a.createElement(c.a.Fragment,null," "))})),V=a(6),B=Object(V.b)({task:E}),J=Object(V.c)(B);s.a.render(c.a.createElement(w,{store:J}),document.getElementById("root"))},5:function(e,t,a){e.exports={header:"FieldCreatingNewTasks_header__1O1fB",todos__input:"FieldCreatingNewTasks_todos__input__2_NIa",toggle__all:"FieldCreatingNewTasks_toggle__all__2o73M",active:"FieldCreatingNewTasks_active__247XH"}}},[[19,1,2]]]);
//# sourceMappingURL=main.ae3c091f.chunk.js.map