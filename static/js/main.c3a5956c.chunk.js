(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{1:function(e,t,a){e.exports={dataFooter:"Footer_dataFooter__22-Se",todoCount:"Footer_todoCount__1PuTS",filters:"Footer_filters__3dO_E",clear:"Footer_clear__3veQd",active:"Footer_active__EeWba",filterBtnJs:"Footer_filterBtnJs__2EB7K"}},10:function(e,t,a){e.exports={header:"FieldCreatingNewTasks_header__1NmQW",todosInput:"FieldCreatingNewTasks_todosInput__2t_Zs",toggleAll:"FieldCreatingNewTasks_toggleAll__ks75C",active:"FieldCreatingNewTasks_active__2-Sbv"}},18:function(e,t,a){e.exports={headerText:"TodoList_headerText__2jkBW",todo:"TodoList_todo__1CS5R"}},19:function(e,t,a){e.exports={main:"TaskList_main__1SuYp",todoList:"TaskList_todoList__2mKL_"}},24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),o=(a(29),a(8)),i=a(11),l=a(13),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},k=a(15);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var d=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return delete a[t],a},m=function(e,t){var a=e.indexOf(t);return e.splice(a,1),e},_=function(e){return JSON.parse(JSON.stringify(e))};function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={tasks:u("todo")},p={tasks:[new k.b.Entity("tasks")]},E=Object(k.a)(v,p);v={tasks:{entities:E.entities.tasks||{},ids:E.result.tasks||[]},filter:u("filter","All")};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TASK_STATUS":var a=t.payload,n=a.id,r=a.check,c=a.title,s=_(e.tasks);return s.entities[n]={id:n,check:r,title:c},b({},e,{tasks:s});case"ADD_TASK":var o=t.payload,l=o.id,u=o.title,k=_(e.tasks);return k.entities[l]={id:l,check:!1,title:u},k.ids=[].concat(Object(i.a)(k.ids),[l]),b({},e,{tasks:k});case"REMOVE_TASK":var f=b({},e.tasks.entities),T=Object(i.a)(e.tasks.ids);return b({},e,{tasks:b({},e.tasks,{entities:d(f,t.payload),ids:m(T,t.payload)})});case"REMOVE_SELECT_TASKS":var p=b({},e.tasks.entities),E=Object(i.a)(e.tasks.ids);return e.tasks.ids.map((function(e){p[e].check&&(delete p[e],E=m(E,e))})),b({},e,{tasks:{entities:p,ids:E}});case"SELECT_ALL_TASK":var O=b({},e.tasks.entities),h=Object(i.a)(e.tasks.ids);return h.map((function(e){return O[e].check=t.payload})),b({},e,{tasks:{entities:O,ids:h}});case"END_EDIT_TASK":var g=t.payload,S=g.id,j=g.check,C=g.title,y=_(e.tasks);return y.entities[S]={id:S,check:j,title:C},b({},e,{tasks:y});case"FILTER_TASKS":return b({},e,{filter:t.payload});default:return e}},h=a(21),g=Object(o.combineReducers)({task:O}),S=Object(o.createStore)(g,Object(h.devToolsEnhancer)());S.subscribe((function(){localStorage.setItem("todo",JSON.stringify(S.getState().task.tasks.entities)),localStorage.setItem("filter",JSON.stringify(S.getState().task.filter))}));var j=S,C=a(9),y=a(18),A=a.n(y),N=a(5),x=a(19),w=a.n(x),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(C.c)((function(a){return e(a,t)}))},L=a(7),D=function(e){return e.task.tasks.entities},K=function(e){return e.task.tasks.ids},P=function(e){return e.task.filter},B=Object(L.a)([P],(function(e){return e})),I=Object(L.a)([K,P,D],(function(e,t,a){switch(t){case"All":return[e.filter((function(e){return a[e]})),a];case"Active":return[e.filter((function(e){return!a[e].check})),a];case"Completed":return[e.filter((function(e){return a[e].check})),a];default:return[e.filter((function(e){return a[e]})),a]}})),J=Object(L.a)([K],(function(e){return e.length})),R=Object(L.a)([J],(function(e){return Boolean(e)})),V=Object(L.a)([D,K],(function(e,t){return t.some((function(t){return!e[t].check}))})),H=Object(L.a)([D,K],(function(e,t){return t.filter((function(t){return!e[t].check})).length})),M=a(4),W=a.n(M),U=a(2),G=a.n(U),Q=Object(n.memo)((function(e){var t=e.isCheck,a=e.task,n=e.editMode,c=e.cacheValueTask,s=e.currentEditTask,o=e.changeBox,i=e.removeTask,l=e.startChangeTask,u=e.onChangeHandler,k=e.stopChangeTaskHandler;return r.a.createElement("li",{className:W.a.item,onDoubleClick:l},n?r.a.createElement("input",{ref:s,autoFocus:!0,className:G()(W.a.edit,n&&W.a.active),value:c,onChange:u,onBlur:k,onKeyDown:k}):r.a.createElement("label",{className:W.a.toggle},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{onClick:o,className:G()(W.a.checkboxCustom,t&&W.a.check)}),r.a.createElement("span",{className:W.a.text},a),r.a.createElement("button",{className:W.a.removeBtn,onClick:i})))})),Y=function(e){var t=Object(C.b)();return Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({type:e,payload:a})}),[t,e])},z=function(e){var t=e.id,a=e.isCheck,c=e.task,s=Object(n.useState)(!1),o=Object(N.a)(s,2),i=o[0],l=o[1],u=Object(n.useState)(""),k=Object(N.a)(u,2),f=k[0],d=k[1],m=Y("CHANGE_TASK_STATUS"),_=Y("REMOVE_TASK"),T=Y("END_EDIT_TASK"),b=Object(n.useRef)(null),v=Object(n.useCallback)((function(e){d(e.currentTarget.value)}),[d]),p=function(e){T({id:t,check:a,title:e}),""===e&&_(t),l(!1)},E=Object(n.useCallback)((function(e){"Enter"===e.key?p(e.currentTarget.value):e.currentTarget!==b.current||e.key?"Escape"===e.key&&p(c):p(e.currentTarget.value)}),[]);return r.a.createElement(Q,{isCheck:a,task:c,editMode:i,cacheValueTask:f,currentEditTask:b,changeBox:function(){m({id:t,check:!a,title:c})},removeTask:function(){_(t)},startChangeTask:function(){l(!0),d(c)},onChangeHandler:v,stopChangeTaskHandler:E})},X=function(){var e=F(I),t=Object(N.a)(e,2),a=t[0],n=t[1],c=a.map((function(e){return r.a.createElement(z,{key:e,id:e,isCheck:n[e].check,task:n[e].title})}));return r.a.createElement("section",{className:w.a.main},r.a.createElement("ul",{className:w.a.todoList},c))},Z=a(10),q=a.n(Z),$=Object(n.memo)((function(e){var t=e.isTasks,a=e.changeValue,n=e.selectAll,c=e.value,s=e.isAllSelected;return r.a.createElement("div",{className:q.a.header},r.a.createElement("input",{onChange:a,onKeyPress:a,autoFocus:!0,className:q.a.todosInput,value:c,placeholder:"What needs to be done?"}),t&&r.a.createElement("button",{onClick:n,className:G()(q.a.toggleAll,!s&&q.a.active)}))})),ee=a(23),te=a.n(ee),ae=function(e){var t=e.countTasks,a=F(V),c=Y("ADD_TASK"),s=Y("SELECT_ALL_TASK"),o=Object(n.useState)(""),i=Object(N.a)(o,2),l=i[0],u=i[1],k=Object(n.useCallback)((function(e){u(e.currentTarget.value),"Enter"===e.key&&e.currentTarget.value.trim()&&(c({id:te()(),title:e.currentTarget.value}),u(""))}),[u,c]);return r.a.createElement($,{isTasks:t,selectAll:function(){s(a)},isAllSelected:a,value:l,changeValue:k})},ne=a(1),re=a.n(ne),ce=function(e){var t=e.leftTasks,a=e.removeSelectedTask,n=e.filter,c=e.filterTasks,s=e.countTasks;return r.a.createElement("div",{className:re.a.dataFooter},r.a.createElement("span",{className:re.a.todoCount},r.a.createElement("strong",null,t),"item left"),r.a.createElement("ul",{className:re.a.filters},r.a.createElement("li",null,r.a.createElement("a",{href:"#/All",className:G()(re.a.filterBtnJs,"All"===n&&re.a.active),onClick:c},"All")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Active",className:G()(re.a.filterBtnJs,"Active"===n&&re.a.active),onClick:c},"Active")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Completed",className:G()(re.a.filterBtnJs,"Completed"===n&&re.a.active),onClick:c},"Completed"))),r.a.createElement("button",{className:G()(re.a.clear,t<s&&re.a.active),onClick:function(){a()}},"Clear completed"))},se=function(){var e=F(H),t=F(B),a=Y("REMOVE_SELECT_TASKS"),c=Y("FILTER_TASKS"),s=F(J),o=Object(n.useCallback)((function(e){c(e.currentTarget.innerText)}),[]);return r.a.createElement(ce,{leftTasks:e,removeSelectedTask:function(){a()},filter:t,filterTasks:o,countTasks:s})},oe=function(){var e=F(R);return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:A.a.headerText},"todos"),r.a.createElement("div",{className:A.a.todo},r.a.createElement(ae,{countTasks:e}),r.a.createElement(X,null),e&&r.a.createElement(se,null)))};s.a.render(r.a.createElement(C.a,{store:j},r.a.createElement((function(){return r.a.createElement(oe,null)}),null)),document.getElementById("root"))},4:function(e,t,a){e.exports={item:"Task_item__JiYci",removeBtn:"Task_removeBtn__1sz5U",toggle:"Task_toggle__3fEH1",redactor:"Task_redactor__1I0yX",taskText:"Task_taskText__3Uucy",checkboxCustom:"Task_checkboxCustom__3Iipx",text:"Task_text__1RRNW",check:"Task_check__1LVuI",edit:"Task_edit__10Fv9",active:"Task_active__31Jxc"}}},[[24,1,2]]]);
//# sourceMappingURL=main.c3a5956c.chunk.js.map