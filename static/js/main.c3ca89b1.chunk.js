(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{1:function(e,t,a){e.exports={dataFooter:"Footer_dataFooter__22-Se",todoCount:"Footer_todoCount__1PuTS",filters:"Footer_filters__3dO_E",clear:"Footer_clear__3veQd",active:"Footer_active__EeWba",filterBtnJs:"Footer_filterBtnJs__2EB7K"}},10:function(e,t,a){e.exports={header:"FieldCreatingNewTasks_header__1NmQW",todosInput:"FieldCreatingNewTasks_todosInput__2t_Zs",toggleAll:"FieldCreatingNewTasks_toggleAll__ks75C",active:"FieldCreatingNewTasks_active__2-Sbv"}},17:function(e,t,a){e.exports={headerText:"TodoList_headerText__2jkBW",todo:"TodoList_todo__1CS5R"}},18:function(e,t,a){e.exports={main:"TaskList_main__1SuYp",todoList:"TaskList_todoList__2mKL_"}},24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},3:function(e,t,a){e.exports={item:"Task_item__JiYci",removeBtn:"Task_removeBtn__1sz5U",toggle:"Task_toggle__3fEH1",redactor:"Task_redactor__1I0yX",taskText:"Task_taskText__3Uucy",checkboxCustom:"Task_checkboxCustom__3Iipx",text:"Task_text__1RRNW",check:"Task_check__1LVuI",edit:"Task_edit__10Fv9",active:"Task_active__31Jxc"}},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),i=(a(29),a(9)),o=a(19),l=a(12),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},f=a(14);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var d=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return delete a[t],a},m=function(e,t){var a=e.indexOf(t);return e.splice(a,1),e},_=function(e){return JSON.parse(JSON.stringify(e))};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={tasks:u("todo")},b={tasks:[new f.b.Entity("tasks")]},v=Object(f.a)(p,b);p={tasks:{entities:v.entities.tasks||{},ids:v.result.tasks||[]},filter:u("filter","All")};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=T({},e.tasks.entities),n=Object(o.a)(e.tasks.ids),r=_(e.tasks),c={},s=c.id,i=c.check,l=c.title;switch(t.type){case"ADD_TASK":var u=t.payload;return s=u.id,l=u.title,r.entities[s]={id:s,check:!1,title:l},r.ids=[].concat(Object(o.a)(r.ids),[s]),T({},e,{tasks:r});case"CHANGE__CHECK":var f=t.payload;return s=f.id,i=f.check,l=f.title,r.entities[s]={id:s,check:i,title:l},T({},e,{tasks:r});case"REMOVE_TASK":return T({},e,{tasks:T({},e.tasks,{entities:d(a,t.payload),ids:m(n,t.payload)})});case"REMOVE_SELECT_TASKS":return e.tasks.ids.map((function(e){a[e].check&&(delete a[e],n=m(n,e))})),T({},e,{tasks:{entities:a,ids:n}});case"SELECT_ALL_TASK":return n.map((function(e){return a[e].check=t.payload})),T({},e,{tasks:{entities:a,ids:n}});case"END_EDIT_TASK":var k=t.payload;return s=k.id,i=k.check,l=k.title,r.entities[s]={id:s,check:i,title:l},T({},e,{tasks:r});case"FILTER_TASKS":return T({},e,{filter:t.payload});default:return e}},g=a(21),O=Object(i.combineReducers)({task:h}),j=Object(i.createStore)(O,Object(g.devToolsEnhancer)());j.subscribe((function(){localStorage.setItem("todo",JSON.stringify(j.getState().task.tasks.entities)),localStorage.setItem("filter",JSON.stringify(j.getState().task.filter))}));var C=j,S=a(5),y=a(17),N=a.n(y),A=a(6),x=a(18),w=a.n(x),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(S.c)((function(a){return e(a,t)}))},L=a(8),D=function(e){return e.task.tasks.entities},K=function(e){return e.task.tasks.ids},P=function(e){return e.task.filter},B=Object(L.a)([P],(function(e){return e})),I=Object(L.a)([K,P,D],(function(e,t,a){switch(t){case"All":return[e.filter((function(e){return a[e]})),a];case"Active":return[e.filter((function(e){return!a[e].check})),a];case"Completed":return[e.filter((function(e){return a[e].check})),a];default:return[e.filter((function(e){return a[e]})),a]}})),J=Object(L.a)([K],(function(e){return e.length})),R=Object(L.a)([J],(function(e){return Boolean(e)})),V=Object(L.a)([D,K],(function(e,t){return t.some((function(t){return!e[t].check}))})),M=Object(L.a)([D,K],(function(e,t){return t.filter((function(t){return!e[t].check})).length})),H=a(3),W=a.n(H),G=a(2),Q=a.n(G),U=Object(n.memo)((function(e){var t=e.isCheck,a=e.id,n=e.task,c=e.editMode,s=e.cacheValueTask,i=e.currentEditTask,o=e.changeBox,l=e.removeTask,u=e.startChangeTask,f=e.changeValueTask,k=e.stopChangeTask;return r.a.createElement("li",{className:W.a.item,onDoubleClick:u},c?r.a.createElement("input",{ref:i,autoFocus:!0,className:Q()(W.a.edit,c&&W.a.active),value:s,onChange:function(e){return f(e.currentTarget.value)},onBlur:function(e){return k(e,s)},onKeyDown:function(e){return k(e,s)}}):r.a.createElement("label",{className:W.a.toggle},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{onClick:o,className:Q()(W.a.checkboxCustom,t&&W.a.check)}),r.a.createElement("span",{className:W.a.text,id:a},n),r.a.createElement("button",{className:W.a.removeBtn,onClick:l}),r.a.createElement("button",{className:W.a.taskText})))})),Y=function(e){var t=Object(S.b)();return Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({type:e,payload:a})}),[t,e])},z=function(e){var t=e.id,a=e.isCheck,c=e.task,s=Object(n.useState)(!1),i=Object(A.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(""),f=Object(A.a)(u,2),k=f[0],d=f[1],m=Y("CHANGE__CHECK"),_=Y("REMOVE_TASK"),E=Y("END_EDIT_TASK"),T=Object(n.useRef)(null),p=Object(n.useCallback)((function(e){d(e)}),[d]),b=function(e){E({id:t,check:a,title:e}),""===e&&_(t),l(!1)};return r.a.createElement(U,{isCheck:a,id:t,task:c,editMode:o,cacheValueTask:k,currentEditTask:T,changeBox:function(){m({id:t,check:!a,title:c})},removeTask:function(){_(t)},startChangeTask:function(){l(!0),d(c)},changeValueTask:p,stopChangeTask:function(e,t){"Enter"===e.key?b(t):e.currentTarget!==T.current||e.key?"Escape"===e.key&&b(c):b(t)}})},X=function(){var e=F(I),t=Object(A.a)(e,2),a=t[0],n=t[1],c=a.map((function(e){return r.a.createElement(z,{key:e,id:e,isCheck:n[e].check,task:n[e].title})}));return r.a.createElement("section",{className:w.a.main},r.a.createElement("ul",{className:w.a.todoList},c))},Z=a(10),q=a.n(Z),$=Object(n.memo)((function(e){var t=e.isTasks,a=e.changeValue,n=e.selectAll,c=e.value,s=e.isAllSelected;return r.a.createElement("div",{className:q.a.header},r.a.createElement("input",{onChange:a,onKeyPress:a,autoFocus:!0,className:q.a.todosInput,value:c,placeholder:"What needs to be done?"}),t&&r.a.createElement("button",{onClick:n,className:Q()(q.a.toggleAll,!s&&q.a.active)}))})),ee=a(23),te=a.n(ee),ae=function(e){var t=e.countTasks,a=F(V),c=Y("ADD_TASK"),s=Y("SELECT_ALL_TASK"),i=Object(n.useState)(""),o=Object(A.a)(i,2),l=o[0],u=o[1],f=Object(n.useCallback)((function(e){u(e.currentTarget.value),"Enter"===e.key&&e.currentTarget.value.trim()&&(c({id:te()(),title:e.currentTarget.value}),u(""))}),[u,c]);return r.a.createElement($,{isTasks:t,selectAll:function(){s(a)},isAllSelected:a,value:l,changeValue:f})},ne=a(1),re=a.n(ne),ce=function(e){var t=e.leftTasks,a=e.removeSelectedTask,n=e.filter,c=e.filterTasks,s=Object(S.c)(J);return r.a.createElement("div",{className:re.a.dataFooter},r.a.createElement("span",{className:re.a.todoCount},r.a.createElement("strong",null,t),"item left"),r.a.createElement("ul",{className:re.a.filters},r.a.createElement("li",null,r.a.createElement("a",{href:"#/All",className:Q()(re.a.filterBtnJs,"All"===n&&re.a.active),onClick:function(e){return c(e.currentTarget.innerText)}},"All")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Active",className:Q()(re.a.filterBtnJs,"Active"===n&&re.a.active),onClick:function(e){return c(e.currentTarget.innerText)}},"Active")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Completed",className:Q()(re.a.filterBtnJs,"Completed"===n&&re.a.active),onClick:function(e){return c(e.currentTarget.innerText)}},"Completed"))),r.a.createElement("button",{className:Q()(re.a.clear,t<s&&re.a.active),onClick:function(){a()}},"Clear completed"))},se=function(){var e=F(M),t=F(B),a=Y("REMOVE_SELECT_TASKS"),n=Y("FILTER_TASKS");return r.a.createElement(ce,{leftTasks:e,removeSelectedTask:function(){a()},filter:t,filterTasks:function(e){n(e)}})},ie=function(){var e=F(R);return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:N.a.headerText},"todos"),r.a.createElement("div",{className:N.a.todo},r.a.createElement(ae,{countTasks:e}),r.a.createElement(X,null),e&&r.a.createElement(se,null)))};s.a.render(r.a.createElement(S.a,{store:C},r.a.createElement((function(){return r.a.createElement(ie,null)}),null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.c3ca89b1.chunk.js.map