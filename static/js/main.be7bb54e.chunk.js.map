{"version":3,"sources":["components/footer/Footer.module.css","components/fieldCreatingNewTasks/FieldCreatingNewTasks.module.css","TodoList.module.css","components/taskList/TaskList.module.css","utils/localStorage.js","utils/removePropFromObject.js","utils/removeArrayElement.js","utils/deepCopy.js","models/todo/reducers.js","models/todo/actions.js","state/Store.js","hooks/useSelector.js","models/todo/selectors.js","components/taskList/Task/Task.jsx","hooks/useAction.js","components/taskList/Task/TaskContainer.jsx","components/taskList/TaskList.jsx","components/fieldCreatingNewTasks/FieldCreatingNewTasks.jsx","components/fieldCreatingNewTasks/FieldCreatingNewTasksContainer.jsx","components/footer/Footer.jsx","components/footer/FooterContainer.jsx","components/todoList/TodoList.jsx","index.js","components/taskList/Task/Task.module.css"],"names":["module","exports","getStorage","prop","valueDefault","localStorage","getItem","JSON","parse","removePropFromObject","obj","id","res","removeArrayElement","index","indexOf","splice","original","stringify","initialState","tasks","myTasks","schema","Entity","dataNormalized","normalize","entities","ids","result","filter","taskReducer","state","action","type","payload","tasksCopy","deepCopy","check","title","copyIds","map","reducer","combineReducers","task","store","createStore","devToolsEnhancer","subscribe","setItem","getState","func","params","useSelector","getTasks","getIds","getFilterValue","getFilterValueReselect","createSelector","getFilteredTasksReselect","t","getTasksCountReselect","length","isTasksReselect","Boolean","isAllSelectedReselect","some","el","getLeftTasksReselect","memo","isCheck","editMode","cacheValueTask","changeCheckBox","removeTask","startChangeTask","onChangeHandler","stopChangeTaskHandler","stopChangeTasksHandlerBlur","className","classes","item","onDoubleClick","autoFocus","classnames","edit","active","value","onChange","onBlur","onKeyDown","toggle","onClick","checkboxCustom","text","removeBtn","useAction","dispatch","useDispatch","useCallback","TaskContainer","useState","setEditMode","changeCacheValueTask","changeTaskStatus","deleteTask","changeTaskTitle","e","currentTarget","stopEditTask","key","TaskList","filteredTasks","createTask","main","todoList","isTasks","changeValue","selectAll","isAllSelected","header","onKeyPress","todosInput","placeholder","toggleAll","FieldCreatingNewTaskContainer","countTasks","allSelected","addTask","selectedAllTasks","editValue","trim","nanoid","Footer","leftTasks","removeSelectedTask","showAllTasks","showActiveTasks","showCompletedTasks","dataFooter","todoCount","filters","href","filterBtnJs","clear","FooterContainer","removeSelectedTasks","filterTasks","useEffect","path","window","location","hash","match","toUpperCase","slice","TodoList","headerText","todo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.be7bb54e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dataFooter\":\"Footer_dataFooter__22-Se\",\"todoCount\":\"Footer_todoCount__1PuTS\",\"filters\":\"Footer_filters__3dO_E\",\"clear\":\"Footer_clear__3veQd\",\"active\":\"Footer_active__EeWba\",\"filterBtnJs\":\"Footer_filterBtnJs__2EB7K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"FieldCreatingNewTasks_header__1NmQW\",\"todosInput\":\"FieldCreatingNewTasks_todosInput__2t_Zs\",\"toggleAll\":\"FieldCreatingNewTasks_toggleAll__ks75C\",\"active\":\"FieldCreatingNewTasks_active__2-Sbv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerText\":\"TodoList_headerText__2jkBW\",\"todo\":\"TodoList_todo__1CS5R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"TaskList_main__1SuYp\",\"todoList\":\"TaskList_todoList__2mKL_\"};","export const getStorage = (prop, valueDefault = {}) => {\r\n  if (localStorage.getItem(prop)) {\r\n    return JSON.parse(localStorage.getItem(prop));\r\n  }\r\n  return valueDefault;\r\n};\r\n\r\n","export const removePropFromObject = (obj, id) => {\r\n  let res = {...obj};\r\n  delete res[id];\r\n  return res;\r\n};","export const removeArrayElement = (obj, id) => {\r\n  const index = obj.indexOf(id);\r\n  obj.splice(index, 1);\r\n  return obj;\r\n};","export default original => JSON.parse(JSON.stringify(original));","import { getStorage } from '../../utils/localStorage';\r\nimport {\r\n  ADD_TASK,\r\n  CHANGE_TASK_STATUS,\r\n  CHANGE_TASK_TITLE,\r\n  FILTER_TASKS,\r\n  REMOVE_SELECT_TASKS,\r\n  REMOVE_TASK,\r\n  SELECT_ALL_TASK\r\n} from './actions';\r\nimport {\r\n  normalize,\r\n  schema\r\n} from 'normalizr';\r\nimport { removePropFromObject } from '../../utils/removePropFromObject';\r\nimport { removeArrayElement } from '../../utils/removeArrayElement';\r\nimport  deepCopy  from '../../utils/deepCopy';\r\n\r\nlet initialState = {\r\n  tasks: getStorage('todo'),\r\n};\r\n\r\nconst tasksScheme = new schema.Entity('tasks');\r\nconst myTasks = {tasks: [tasksScheme]};\r\nconst dataNormalized = normalize(initialState, myTasks);\r\ninitialState = {\r\n  tasks: {\r\n    entities: dataNormalized.entities.tasks || {},\r\n    ids: dataNormalized.result.tasks || []\r\n  },\r\n  filter: getStorage('filter', 'All'),\r\n};\r\n\r\n\r\nconst taskReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  \r\n  \r\n    case CHANGE_TASK_STATUS: {\r\n      const id = action.payload;\r\n      const tasksCopy = deepCopy(state.tasks);\r\n      tasksCopy.entities[id].check = !tasksCopy.entities[id].check;\r\n      return {\r\n        ...state,\r\n        tasks: tasksCopy\r\n      };\r\n    }\r\n    \r\n    \r\n    case ADD_TASK: {\r\n      const {id, title} = action.payload;\r\n      const tasksCopy = deepCopy(state.tasks);\r\n      tasksCopy.entities[id] = {id, check: false, title};\r\n      tasksCopy.ids = [...tasksCopy.ids, id];\r\n      return {\r\n        ...state,\r\n        tasks: tasksCopy\r\n      };\r\n    }\r\n      \r\n    \r\n    case REMOVE_TASK: {\r\n      const entities = {...state.tasks.entities};\r\n      let copyIds = [...state.tasks.ids];\r\n      return {\r\n        ...state,\r\n        tasks: {\r\n          ...state.tasks,\r\n          entities: removePropFromObject(entities, action.payload),\r\n          ids: removeArrayElement(copyIds, action.payload)\r\n        }\r\n      };\r\n    }\r\n      \r\n      \r\n    case REMOVE_SELECT_TASKS: {\r\n      const entities = {...state.tasks.entities};\r\n      let copyIds = [...state.tasks.ids];\r\n      state.tasks.ids.map(id => {\r\n        if (entities[id].check) {\r\n          delete entities[id];\r\n          copyIds = removeArrayElement(copyIds, id);\r\n        }\r\n      });\r\n      return {\r\n        ...state,\r\n        tasks: {\r\n          entities,\r\n          ids: copyIds\r\n        }\r\n      };\r\n    }\r\n      \r\n      \r\n    case SELECT_ALL_TASK: {\r\n      const entities = {...state.tasks.entities};\r\n      let copyIds = [...state.tasks.ids];\r\n      copyIds.map(id => entities[id].check = action.payload);\r\n      return {\r\n        ...state,\r\n        tasks: {\r\n          entities,\r\n          ids: copyIds\r\n        }\r\n      };\r\n    }\r\n      \r\n      \r\n    case CHANGE_TASK_TITLE: {\r\n      const {id, title} = action.payload;\r\n      const tasksCopy = deepCopy(state.tasks);\r\n      tasksCopy.entities[id] = {id, check: tasksCopy.entities[id].check, title};\r\n      return {\r\n        ...state,\r\n        tasks: tasksCopy\r\n      };\r\n    }\r\n      \r\n    case FILTER_TASKS:\r\n      return {\r\n        ...state,\r\n        filter: action.payload\r\n      };\r\n      \r\n      \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nexport default taskReducer;","export const ADD_TASK = 'ADD_TASK';\r\nexport const CHANGE_TASK_STATUS = 'CHANGE_TASK_STATUS';\r\nexport const REMOVE_TASK = 'REMOVE_TASK';\r\nexport const SELECT_ALL_TASK = 'SELECT_ALL_TASK';\r\nexport const REMOVE_SELECT_TASKS = 'REMOVE_SELECT_TASKS';\r\nexport const CHANGE_TASK_TITLE = 'CHANGE_TASK_TITLE';\r\nexport const FILTER_TASKS =  'FILTER_TASKS';\r\n","import { combineReducers, createStore } from 'redux';\r\nimport taskReducer from '../models/todo/reducers';\r\nimport { devToolsEnhancer } from 'redux-devtools-extension';\r\n\r\n\r\nconst reducer = combineReducers(\r\n  {\r\n    task: taskReducer\r\n  }\r\n);\r\n\r\nconst store = createStore(reducer, /* preloadedState, */ devToolsEnhancer(\r\n  // Specify name here, actionsBlacklist, actionsCreators and other options if needed\r\n));\r\n\r\nstore.subscribe(() => {\r\n  localStorage.setItem('todo', JSON.stringify(store.getState().task.tasks.entities));\r\n  localStorage.setItem('filter', JSON.stringify(store.getState().task.filter));\r\n});\r\n\r\nexport default store;","import { useSelector } from 'react-redux';\r\n\r\nexport default (func, params = {}) => useSelector(state => func(state, params));","import { createSelector } from 'reselect';\r\n\r\nconst getTasks = (state) => {\r\n  return state.task.tasks.entities;\r\n};\r\n\r\n\r\nconst getIds = (state) => {\r\n  return state.task.tasks.ids;\r\n};\r\n\r\n\r\nconst getFilterValue = (state) => {\r\n  return state.task.filter;\r\n};\r\n\r\n\r\nexport const getFilterValueReselect = createSelector([getFilterValue], (filter) => filter);\r\n\r\n\r\nexport const getFilteredTasksReselect = createSelector([getIds, getFilterValue, getTasks], (ids, type, tasks) => {\r\n  switch (type) {\r\n    case 'All':\r\n      return [ids.filter(t => tasks[t]), tasks];\r\n    case 'Active':\r\n      return [ids.filter(t => !tasks[t].check), tasks];\r\n    case 'Completed':\r\n      return [ids.filter(t => tasks[t].check), tasks];\r\n    default:\r\n      return [ids.filter(t => tasks[t]), tasks];\r\n  }\r\n});\r\n\r\n\r\nexport const getTasksCountReselect = createSelector([getIds], (ids) => ids.length);\r\n\r\n\r\nexport const isTasksReselect = createSelector([getTasksCountReselect], (ids) => Boolean(ids));\r\n\r\n\r\nexport const isAllSelectedReselect = createSelector([getTasks, getIds], (entities, ids) => {\r\n  return ids.some(el => !entities[el].check);\r\n});\r\n\r\n\r\nexport const getLeftTasksReselect = createSelector([getTasks, getIds], (entities, ids) => {\r\n  return ids.filter(t => !entities[t].check).length;\r\n});","import React, { memo } from 'react';\r\nimport classes from './Task.module.css';\r\nimport classnames from 'classnames';\r\n\r\nconst Task = ({\r\n  isCheck,\r\n  task,\r\n  editMode,\r\n  cacheValueTask,\r\n  changeCheckBox,\r\n  removeTask,\r\n  startChangeTask,\r\n  onChangeHandler,\r\n  stopChangeTaskHandler,\r\n  stopChangeTasksHandlerBlur\r\n}) => (\r\n  <li className={classes.item} onDoubleClick={startChangeTask}>\r\n    {!editMode\r\n      ? <label className={classes.toggle}>\r\n        <input type=\"checkbox\" />\r\n        <span\r\n          onClick={changeCheckBox}\r\n          className={classnames(\r\n            classes.checkboxCustom,\r\n            isCheck && classes.check\r\n          )}\r\n        />\r\n        <span className={classes.text}>\r\n          {task}\r\n        </span>\r\n        <button className={classes.removeBtn} onClick={removeTask} />\r\n      </label>\r\n      : <input\r\n        autoFocus\r\n        className={classnames(\r\n          classes.edit,\r\n          editMode && classes.active\r\n        )}\r\n        value={cacheValueTask}\r\n        onChange={onChangeHandler}\r\n        onBlur={stopChangeTasksHandlerBlur}\r\n        onKeyDown={stopChangeTaskHandler}\r\n      />\r\n    }\r\n  </li>\r\n);\r\n\r\nexport default memo(Task);","import { useCallback } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst useAction = type => {\r\n  const dispatch = useDispatch();\r\n  return useCallback((payload = {}) => dispatch({type, payload}), [\r\n    dispatch,\r\n    type\r\n  ]);\r\n};\r\n\r\nexport default useAction;\r\n\r\n","import React, { useState, useCallback } from 'react';\r\nimport Task from './Task';\r\nimport useAction from '../../../hooks/useAction';\r\nimport {\r\n  CHANGE_TASK_STATUS,\r\n  CHANGE_TASK_TITLE,\r\n  REMOVE_TASK\r\n} from '../../../models/todo/actions';\r\n\r\nconst TaskContainer = ({\r\n  id,\r\n  isCheck,\r\n  task,\r\n}) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [cacheValueTask, changeCacheValueTask] = useState('');\r\n  const changeTaskStatus = useAction(CHANGE_TASK_STATUS);\r\n  const deleteTask = useAction(REMOVE_TASK);\r\n  const changeTaskTitle = useAction(CHANGE_TASK_TITLE);\r\n  const changeCheckBox = useCallback(() => {\r\n    changeTaskStatus(id);\r\n  }, [changeTaskStatus, id]);\r\n  const removeTask = () => {\r\n    deleteTask(id);\r\n  };\r\n\r\n  const startChangeTask = () => {\r\n    setEditMode(true);\r\n    changeCacheValueTask(task);\r\n  };\r\n\r\n  const onChangeHandler = useCallback((e) => {\r\n    changeCacheValueTask(e.currentTarget.value);\r\n  }, [changeCacheValueTask]);\r\n\r\n  const stopEditTask = useCallback((value) => {\r\n    changeTaskTitle({id: id, title: value});\r\n    if (value === '') {\r\n      deleteTask(id);\r\n    }\r\n    setEditMode(false);\r\n  }, [changeTaskTitle, deleteTask, id]);\r\n  \r\n\r\n  const stopChangeTasksHandlerBlur = useCallback((e) => {\r\n      stopEditTask(e.currentTarget.value);\r\n  }, [stopEditTask]);\r\n  \r\n  const stopChangeTaskHandler = useCallback((e) => {\r\n    if (e.key === 'Enter') {\r\n      stopEditTask(e.currentTarget.value);\r\n    }\r\n    else if (e.key === 'Escape') {\r\n      setEditMode(false);\r\n    }\r\n  }, [stopEditTask]);\r\n\r\n\r\n  return (\r\n    <Task\r\n      isCheck = {isCheck}\r\n      task = {task}\r\n      editMode={editMode}\r\n      cacheValueTask={cacheValueTask}\r\n      changeCheckBox={changeCheckBox}\r\n      removeTask={removeTask}\r\n      startChangeTask={startChangeTask}\r\n      onChangeHandler={onChangeHandler}\r\n      stopChangeTaskHandler={stopChangeTaskHandler}\r\n      stopChangeTasksHandlerBlur = {stopChangeTasksHandlerBlur}\r\n    />\r\n  )\r\n};\r\n\r\nexport default TaskContainer;","import React  from 'react';\r\nimport classes from './TaskList.module.css';\r\nimport useSelector from '../../hooks/useSelector';\r\nimport { getFilteredTasksReselect } from '../../models/todo/selectors';\r\nimport TaskContainer from './Task/TaskContainer';\r\n\r\n\r\nconst TaskList = () => {\r\n  const [filteredTasks, tasks] = useSelector(getFilteredTasksReselect);\r\n  const createTask = filteredTasks.map((t) => (\r\n      <TaskContainer\r\n        key={t}\r\n        id={t}\r\n        isCheck={tasks[t].check}\r\n        task={tasks[t].title}\r\n      />\r\n    )\r\n  );\r\n  \r\n  \r\n  return (\r\n    <section className={classes.main}>\r\n      <ul className={classes.todoList}>\r\n        {createTask}\r\n      </ul>\r\n    </section>\r\n  )\r\n};\r\n\r\n\r\nexport default TaskList;","import React, { memo } from 'react';\r\nimport classes from './FieldCreatingNewTasks.module.css';\r\nimport classnames from 'classnames';\r\n\r\nconst FieldCreatingNewTask =({\r\n  isTasks,\r\n  changeValue,\r\n  selectAll,\r\n  value,\r\n  isAllSelected\r\n}) => (\r\n  <div className={classes.header}>\r\n    <input\r\n      onChange={changeValue}\r\n      onKeyPress={changeValue}\r\n      autoFocus\r\n      className={classes.todosInput}\r\n      value={value}\r\n      placeholder=\"What needs to be done?\"\r\n    />\r\n    {isTasks &&\r\n    <button\r\n      onClick={selectAll}\r\n      className={classnames(\r\n        classes.toggleAll,\r\n        !isAllSelected && classes.active\r\n      )}\r\n    />}\r\n  </div>\r\n);\r\n\r\n\r\nexport default  memo(FieldCreatingNewTask);","import React, { useState, useCallback } from 'react';\r\nimport FieldCreatingNewTask from './FieldCreatingNewTasks';\r\nimport nanoid from 'nanoid';\r\nimport useSelector from '../../hooks/useSelector';\r\nimport { isAllSelectedReselect } from '../../models/todo/selectors';\r\nimport useAction from '../../hooks/useAction';\r\nimport {\r\n  ADD_TASK,\r\n  SELECT_ALL_TASK\r\n} from '../../models/todo/actions';\r\n\r\nconst FieldCreatingNewTaskContainer = ({countTasks}) => {\r\n  const allSelected =  useSelector(isAllSelectedReselect);\r\n  const addTask = useAction(ADD_TASK);\r\n  const selectedAllTasks = useAction(SELECT_ALL_TASK);\r\n  const [value, editValue] = useState('');\r\n\r\n  const changeValue = useCallback(e => {\r\n    editValue(e.currentTarget.value);\r\n    if (e.key === 'Enter' && e.currentTarget.value.trim()) {\r\n      addTask({id: nanoid(), title: e.currentTarget.value});\r\n      editValue('');\r\n    }\r\n  }, [editValue, addTask]);\r\n  \r\n\r\n  const selectAll = () => {\r\n      selectedAllTasks(allSelected);\r\n  };\r\n\r\n  return (\r\n    <FieldCreatingNewTask\r\n      isTasks = {countTasks}\r\n      selectAll = {selectAll}\r\n      isAllSelected = {allSelected}\r\n      value = {value}\r\n      changeValue = {changeValue}\r\n    />\r\n  )\r\n};\r\n\r\n\r\nexport default FieldCreatingNewTaskContainer;","import React from 'react';\r\nimport classes from './Footer.module.css';\r\nimport classnames from 'classnames';\r\n\r\n\r\nconst Footer = ({\r\n  leftTasks,\r\n  removeSelectedTask,\r\n  filter,\r\n  showAllTasks,\r\n  showActiveTasks,\r\n  showCompletedTasks,\r\n  countTasks\r\n}) => (\r\n    <div className={classes.dataFooter}>\r\n\t\t  <span className={classes.todoCount}>\r\n\t\t\t<strong>{leftTasks}</strong>\r\n\t\t\t  item left\r\n\t\t  </span>\r\n      <ul className={classes.filters}>\r\n        <li>\r\n          <a href=\"/#/all\"\r\n             className={classnames(\r\n               classes.filterBtnJs,\r\n               filter === 'All' && classes.active\r\n             )}\r\n             onClick={showAllTasks}>All</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"/#/active\"\r\n             className={classnames(\r\n               classes.filterBtnJs,\r\n               filter === 'Active' && classes.active\r\n             )}\r\n             onClick={showActiveTasks}>Active</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"/#/completed\"\r\n             className={classnames(\r\n               classes.filterBtnJs,\r\n               filter === 'Completed' && classes.active\r\n             )}\r\n             onClick={showCompletedTasks}>Completed</a>\r\n        </li>\r\n      </ul>\r\n      <button\r\n        className={classnames(\r\n          classes.clear,\r\n          leftTasks < countTasks && classes.active\r\n        )}\r\n        onClick={() => {\r\n          removeSelectedTask()\r\n        }}>\r\n        Clear completed\r\n      </button>\r\n    </div>\r\n  );\r\nexport default Footer;","import React, { useCallback, useEffect } from 'react';\r\nimport Footer from './Footer';\r\nimport useSelector from '../../hooks/useSelector';\r\nimport {\r\n  getFilterValueReselect,\r\n  getLeftTasksReselect,\r\n  getTasksCountReselect,\r\n} from '../../models/todo/selectors';\r\nimport useAction from '../../hooks/useAction';\r\nimport {\r\n  FILTER_TASKS,\r\n  REMOVE_SELECT_TASKS\r\n} from '../../models/todo/actions';\r\n\r\n\r\nconst FooterContainer = () => {\r\n  const leftTasks = useSelector(getLeftTasksReselect);\r\n  const filter = useSelector(getFilterValueReselect);\r\n  const removeSelectedTasks = useAction(REMOVE_SELECT_TASKS);\r\n  const filterTasks = useAction(FILTER_TASKS);\r\n  const countTasks = useSelector(getTasksCountReselect);\r\n  const showAllTasks = useCallback(() => {\r\n    filterTasks('All');\r\n  }, [filterTasks]);\r\n  \r\n  \r\n  useEffect(() => {\r\n    let path = window.location.hash.match(/[a-z]+/igm)[0];\r\n    path = path[0].toUpperCase() + path.slice(1);\r\n    filterTasks(path);\r\n  }, []);\r\n  \r\n  \r\n  const showActiveTasks = useCallback(() => {\r\n    filterTasks('Active');\r\n  }, [filterTasks]);\r\n  \r\n  const showCompletedTasks = useCallback(() => {\r\n    filterTasks('Completed');\r\n  }, [filterTasks]);\r\n  \r\n  const removeSelectedTask = useCallback(() => {\r\n    removeSelectedTasks();\r\n  }, [removeSelectedTasks]);\r\n  \r\n  \r\n  return (\r\n    <Footer\r\n      leftTasks={leftTasks}\r\n      removeSelectedTask={removeSelectedTask}\r\n      filter={filter}\r\n      showAllTasks={showAllTasks}\r\n      showActiveTasks = {showActiveTasks}\r\n      showCompletedTasks = {showCompletedTasks}\r\n      countTasks = {countTasks}\r\n    />\r\n  )\r\n};\r\n\r\nexport default FooterContainer;","import React, { Fragment } from 'react';\r\nimport classes from './../../TodoList.module.css';\r\nimport TaskList from '../taskList/TaskList';\r\nimport FieldCreatingNewTaskContainer from '../fieldCreatingNewTasks/FieldCreatingNewTasksContainer';\r\nimport FooterContainer from '../footer/FooterContainer';\r\nimport useSelector from '../../hooks/useSelector';\r\nimport { isTasksReselect } from '../../models/todo/selectors';\r\n\r\n\r\nconst TodoList = () => {\r\n  const isTasks = useSelector(isTasksReselect);\r\n  return (\r\n    <Fragment>\r\n      <header className={classes.headerText}>todos</header>\r\n      <div className={classes.todo}>\r\n        <FieldCreatingNewTaskContainer countTasks = {isTasks} />\r\n        <TaskList />\r\n        {isTasks && <FooterContainer />}\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport store from './state/Store';\nimport { Provider } from 'react-redux';\nimport TodoList from './components/todoList/TodoList';\n\n\nconst TodoListApp = () => (\n  <TodoList />\n);\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <TodoListApp />\n  </Provider>, document.getElementById('root'));\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Task_item__JiYci\",\"removeBtn\":\"Task_removeBtn__1sz5U\",\"toggle\":\"Task_toggle__3fEH1\",\"redactor\":\"Task_redactor__1I0yX\",\"taskText\":\"Task_taskText__3Uucy\",\"checkboxCustom\":\"Task_checkboxCustom__3Iipx\",\"text\":\"Task_text__1RRNW\",\"check\":\"Task_check__1LVuI\",\"edit\":\"Task_edit__10Fv9\",\"active\":\"Task_active__31Jxc\"};"],"sourceRoot":""}