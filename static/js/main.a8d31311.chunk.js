(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{10:function(e,t,a){e.exports={item:"Task_item__2Ugjx",removebtn:"Task_removebtn__R_aGf",toggle:"Task_toggle__A4FfK",redactor:"Task_redactor__3pPaR",noclick:"Task_noclick__TBsRt",checkbox__custom:"Task_checkbox__custom__dMvd_",text:"Task_text__2Hyq1",check:"Task_check__NIDTR",edit:"Task_edit__1wp3_",active:"Task_active__1EmoS"}},15:function(e,t,a){e.exports={header:"FieldCreatingNewTasks_header__1O1fB",todos__input:"FieldCreatingNewTasks_todos__input__2_NIa",toggle__all:"FieldCreatingNewTasks_toggle__all__2o73M",active:"FieldCreatingNewTasks_active__247XH"}},25:function(e,t,a){e.exports={header__text:"TodoList_header__text__1Fz0m",todo:"TodoList_todo__1CS5R"}},26:function(e,t,a){e.exports={main:"TaskList_main__DLCrZ",todo__list:"TaskList_todo__list__1OXWA"}},47:function(e,t,a){e.exports=a(76)},52:function(e,t,a){},6:function(e,t,a){e.exports={data__footer:"Footer_data__footer__2lxAh",todo__count:"Footer_todo__count__3V25F",filters:"Footer_filters__5t2EO",clear:"Footer_clear__2aJGt",active:"Footer_active__14w6u",filterBtnJs:"Footer_filterBtnJs__2B824",footer__inner:"Footer_footer__inner__1dpFZ"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c),o=(a(52),function(e){return e.task.tasks}),i=function(e){return e.task.init},l=function(e){return e.task.allSelected},u=function(e){return e.task.leftTasks},_=function(e){return e.task.filter},f=a(46),k=a(39);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(k.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={tasks:[],init:!1,allSelected:!1,leftTasks:0,filter:"All"},p=function(e){return{type:"OUTPUT_TAKS_FROM_LOCALSTORAGE",tasks:e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TASK":return d({},e,{taskValue:""});case"CHANGE_TASK_STATUS":case"REMOVE_TASK":case"REMOVE_SELECT_TASKS":return d({},e);case"OUTPUT_TAKS_FROM_LOCALSTORAGE":return d({},e,{tasks:Object(f.a)(t.tasks)});case"INITIALIZATION":return d({},e,{init:!0});case"SELECT_ALL_TASK":return d({},e);case"CONTROL_ALL_SELECTED":return d({},e,{allSelected:!e.leftTasks&&e.tasks.length});case"LEFT_TASKS":return d({},e,{leftTasks:e.tasks.filter((function(e){return!e.check})).length});case"END_EDIT_TASK":return d({},e);case"REMOVE_CLEAR_TASK":return d({},e,{tasks:e.tasks.filter((function(e){return""!==e.title}))});case"FILTER_TASKS":return d({},e,{filter:t.filterMethod});case"OUTPUT_FILTER_FROM_LOCALSTORAGE":return d({},e,{filter:t.filterValue});default:return e}},h=a(22),O=a(25),S=a.n(O),g=a(5),A=a.n(g),v=a(13),b=a(6),C=a.n(b),x=a(41),L=a(42),y=new function e(){var t=this;Object(x.a)(this,e),this.getAllTasks=function(){return t.instance.get("tasks").then((function(e){return e.data}))},this.postCreateTask=function(e,a,n){return t.instance.post("tasks",{id:e,check:a,title:n})},this.deleteRemoveTask=function(e){return t.instance.delete("tasks/".concat(e))},this.putCheckBox=function(e,a,n){return t.instance.put("tasks/".concat(e),{id:e,check:!a,title:n})},this.putUpdateValueTask=function(e,a,n){return t.instance.put("tasks/".concat(e),{id:e,check:a,title:n})},this.instance=L.create({baseURL:"http://localhost:3000/"})},N=function(e){var t=function(t){e.filterTasks(t),localStorage.setItem("filter",JSON.stringify(t))};return r.a.createElement("div",{className:C.a.data__footer},r.a.createElement("span",{className:C.a.todo__count},r.a.createElement("strong",null,e.leftTasks),"item left"),r.a.createElement("ul",{className:C.a.filters},r.a.createElement("li",null,r.a.createElement("a",{href:"#/All",className:"All"===e.filter?"".concat(C.a.filterBtnJs," ").concat(C.a.active):"".concat(C.a.filterBtnJs),onClick:function(e){return t(e.currentTarget.innerText)}},"All")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Active",className:"Active"===e.filter?"".concat(C.a.filterBtnJs," ").concat(C.a.active):"".concat(C.a.filterBtnJs),onClick:function(e){return t(e.currentTarget.innerText)}},"Active")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Completed",className:"Completed"===e.filter?"".concat(C.a.filterBtnJs," ").concat(C.a.active):"".concat(C.a.filterBtnJs),onClick:function(e){return t(e.currentTarget.innerText)}},"Completed"))),r.a.createElement("button",{className:e.leftTasks<e.tasks.length?"".concat(C.a.clear," ").concat(C.a.active):"".concat(C.a.clear),onClick:function(){e.tasks.map(function(){var t=Object(v.a)(A.a.mark((function t(a){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.check){t.next=5;break}return t.next=3,y.deleteRemoveTask(a.id);case 3:"OK"===t.sent.statusText&&e.removeSelectedTasks();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},"Clear completed"))},j=a(18),F=a(15),K=a.n(F),R=function(e){var t=Object(n.useState)(""),a=Object(j.a)(t,2),c=a[0],s=a[1],o=function(){var t=e.tasks[e.tasks.length-1];e.tasks.map(function(){var a=Object(v.a)(A.a.mark((function a(n){var r;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.putCheckBox(n.id,e.allSelected,n.title);case 2:r=a.sent,t.id===n.id&&"OK"===r.statusText&&e.changeCheck();case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},i=function(){var t=Object(v.a)(A.a.mark((function t(a,n){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("Enter"!==a||""===n){t.next=5;break}return t.next=3,y.postCreateTask(Math.floor(1+1e16*Math.random()),!1,n);case 3:"Created"===t.sent.statusText&&(e.addTask(),s(""));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:K.a.header},r.a.createElement("input",{onChange:function(e){s(e.currentTarget.value)},autoFocus:!0,className:K.a.todos__input,placeholder:"What needs to be done?",value:c,onKeyDown:function(e){return i(e.key,c)}}),r.a.createElement((function(e){return e.leftTasks||e.tasks.length?r.a.createElement("button",{onClick:o,className:e.allSelected?"".concat(K.a.toggle__all," ").concat(K.a.active):"".concat(K.a.toggle__all)}):r.a.createElement(r.a.Fragment,null," ")}),e))},w=a(26),I=a.n(w),D=a(10),M=a.n(D),V=function(e){return r.a.createElement("li",{className:M.a.item,onDoubleClick:e.startChangeTask},e.editMode?r.a.createElement("input",{ref:e.currentEditTask,autoFocus:!0,className:e.editMode?"".concat(M.a.edit," ").concat(M.a.active):"".concat(M.a.edit),value:e.cacheValueTask,onChange:function(t){return e.changeValueTask(t.currentTarget.value)},onBlur:function(t){e.stopChangeTask(t,e.cacheValueTask)},onKeyDown:function(t){e.stopChangeTask(t,e.cacheValueTask)}}):r.a.createElement("label",{className:M.a.toggle},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{onClick:e.changeBox,className:e.check?"".concat(M.a.checkbox__custom," ").concat(M.a.check):"".concat(M.a.checkbox__custom)}),r.a.createElement("span",{className:M.a.text,id:e.id},e.task),r.a.createElement("button",{className:M.a.removebtn,onClick:e.removeTask}),r.a.createElement("button",{className:M.a.noclick})))},B=function(e){var t=Object(n.useState)(!1),a=Object(j.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)(""),i=Object(j.a)(o,2),l=i[0],u=i[1],_=r.a.createRef(),f=function(){var t=Object(v.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.putCheckBox(e.id,e.check,e.task);case 2:"OK"===t.sent.statusText&&e.changeCheck();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(v.a)(A.a.mark((function t(){return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.deleteRemoveTask(e.id);case 2:"OK"===t.sent.statusText&&e.removeTask();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),T=function(t){y.putUpdateValueTask(e.id,e.check,t).then((function(t){"OK"===t.statusText&&e.endEditTask()})),""===t&&y.deleteRemoveTask(e.id).then((function(t){"OK"===t.statusText&&e.removeClearTask()})),s(!1)};return r.a.createElement(V,Object.assign({},e,{editMode:c,cacheValueTask:l,currentEditTask:_,changeBox:f,removeTask:k,startChangeTask:function(){s(!0),u(e.task)},changeValueTask:function(e){u(e)},stopEditTask:T,stopChangeTask:function(t,a){"Enter"===t.key?T(a):t.currentTarget!==_.current||t.key?"Escape"===t.key&&T(e.task):T(a)}}))},U=function(e){var t=e.tasks.map((function(t,a){return"All"===e.filter?r.a.createElement(B,Object.assign({key:a,id:t.id,check:t.check,task:t.title},e)):"Active"!==e.filter||t.check?"Completed"===e.filter&&t.check?r.a.createElement(B,Object.assign({key:a,id:t.id,check:t.check,task:t.title},e)):void 0:r.a.createElement(B,Object.assign({key:a,id:t.id,check:t.check,task:t.title},e))}));return r.a.createElement("section",{className:I.a.main},r.a.createElement("ul",{className:I.a.todo__list},t))},J=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:S.a.header__text},"todos"),r.a.createElement("div",{className:S.a.todo},r.a.createElement(R,e),r.a.createElement(U,e),e.leftTasks||e.tasks.length?r.a.createElement(N,e):r.a.createElement(r.a.Fragment,null," ")))},P=Object(h.b)((function(e){return{tasks:o(e),init:i(e),allSelected:l(e),leftTasks:u(e),filter:_(e)}}),{changeCheck:function(){return{type:"CHANGE_TASK_STATUS"}},removeTask:function(){return{type:"REMOVE_TASK"}},initState:function(){return{type:"INITIALIZATION"}},selectAllTasks:function(){return{type:"SELECT_ALL_TASK"}},controllAllSelected:function(){return{type:"CONTROL_ALL_SELECTED"}},getCountLeftTasks:function(){return{type:"LEFT_TASKS"}},removeSelectedTasks:function(){return{type:"REMOVE_SELECT_TASKS"}},addTask:function(){return{type:"ADD_TASK"}},endEditTask:function(){return{type:"END_EDIT_TASK"}},removeClearTask:function(){return{type:"REMOVE_CLEAR_TASK"}},filterTasks:function(e){return{type:"FILTER_TASKS",filterMethod:e}},outputFilterFromLocalStorage:function(e){return{type:"OUTPUT_FILTER_FROM_LOCALSTORAGE",filterValue:e}}})((function(e){return Object(n.useEffect)((function(){localStorage.getItem("filter")&&e.outputFilterFromLocalStorage(JSON.parse(localStorage.getItem("filter"))),e.initState()}),[]),Object(n.useEffect)((function(){e.getCountLeftTasks(),e.controllAllSelected()}),[e.tasks]),r.a.createElement(r.a.Fragment,null,e.init?r.a.createElement(J,e):r.a.createElement(r.a.Fragment,null," "))})),G=a(44),H=a(12),Z=a(45),W=a(16),X=A.a.mark(Q),q=A.a.mark(Y),z=A.a.mark($);function Q(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=W.c,e.t1=p,e.next=4,Object(W.b)(y.getAllTasks);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.next=8,(0,e.t0)(e.t3);case 8:case"end":return e.stop()}}),X)}function Y(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.e)("INITIALIZATION",Q);case 2:return e.next=4,Object(W.d)(["ADD_TASK","CHANGE_TASK_STATUS","REMOVE_TASK","SELECT_ALL_TASK","REMOVE_SELECT_TASKS","END_EDIT_TASK","REMOVE_SELECT_TASKS"],Q);case 4:case"end":return e.stop()}}),q)}function $(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([Y()]);case 2:case"end":return e.stop()}}),z)}var ee=Object(Z.a)(),te=Object(H.c)({task:E}),ae=Object(H.e)(te,Object(H.a)(ee));ee.run($);var ne=ae;s.a.render(r.a.createElement(G.a,null,r.a.createElement(h.a,{store:ne},r.a.createElement(P,null))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.a8d31311.chunk.js.map