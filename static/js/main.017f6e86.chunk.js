(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{1:function(e,t,a){e.exports={dataFooter:"Footer_dataFooter__22-Se",todoCount:"Footer_todoCount__1PuTS",filters:"Footer_filters__3dO_E",clear:"Footer_clear__3veQd",active:"Footer_active__EeWba",filterBtnJs:"Footer_filterBtnJs__2EB7K"}},11:function(e,t,a){e.exports={header:"FieldCreatingNewTasks_header__1NmQW",todosInput:"FieldCreatingNewTasks_todosInput__2t_Zs",toggleAll:"FieldCreatingNewTasks_toggleAll__ks75C",active:"FieldCreatingNewTasks_active__2-Sbv"}},17:function(e,t,a){e.exports={headerText:"TodoList_headerText__2jkBW",todo:"TodoList_todo__1CS5R"}},18:function(e,t,a){e.exports={main:"TaskList_main__1SuYp",todoList:"TaskList_todoList__2mKL_"}},24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},3:function(e,t,a){e.exports={item:"Task_item__JiYci",removeBtn:"Task_removeBtn__1sz5U",toggle:"Task_toggle__3fEH1",redactor:"Task_redactor__1I0yX",taskText:"Task_taskText__3Uucy",checkboxCustom:"Task_checkboxCustom__3Iipx",text:"Task_text__1RRNW",check:"Task_check__1LVuI",edit:"Task_edit__10Fv9",active:"Task_active__31Jxc"}},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),o=(a(29),a(9)),l=a(19),i=a(7),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},k=a(14);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var d=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return delete a[t],a},m=function(e,t){var a=e.indexOf(t);return e.splice(a,1),e};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E={tasks:u("todo")},p={tasks:[new k.b.Entity("tasks")]},b=Object(k.a)(E,p);E={tasks:{entities:b.entities.tasks||[],ids:b.result.tasks||[]},allSelected:!1,leftTasks:0,filter:u("filter","All")};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=T({},e.tasks.entities),n=Object(l.a)(e.tasks.ids);switch(localStorage.setItem("todo",JSON.stringify(a)),localStorage.setItem("filter",JSON.stringify(e.filter)),t.type){case"ADD_TASK":return T({},e,{tasks:T({},e.tasks,{entities:T({},e.tasks.entities,Object(i.a)({},t.payload[0],{id:t.payload[0],check:!1,title:t.payload[1]})),ids:[].concat(Object(l.a)(e.tasks.ids),[t.payload[0]])})});case"CHANGE__CHECK":return T({},e,{tasks:T({},e.tasks,{entities:T({},e.tasks.entities,Object(i.a)({},t.payload[0],{id:t.payload[0],check:t.payload[1],title:t.payload[2]}))})});case"REMOVE_TASK":return T({},e,{tasks:T({},e.tasks,{ids:m(e.tasks.ids,t.payload),entities:d(e.tasks.entities,t.payload)})});case"REMOVE_SELECT_TASKS":return e.tasks.ids.map((function(e){a[e].check&&(delete a[e],n=m(n,e))})),T({},e,{tasks:{entities:a,ids:n}});case"SELECT_ALL_TASK":return n.map((function(t){return a[t].check=!e.allSelected})),T({},e,{tasks:{entities:a,ids:n}});case"CONTROL_ALL_SELECTED":return T({},e,{allSelected:!e.leftTasks&&e.tasks.ids.length});case"LEFT_TASKS":return T({},e,{leftTasks:t.payload});case"END_EDIT_TASK":return T({},e,{tasks:T({},e.tasks,{entities:T({},e.tasks.entities,Object(i.a)({},t.payload[0],{id:t.payload[0],check:t.payload[1],title:t.payload[2]}))})});case"FILTER_TASKS":return T({},e,{filter:t.payload});default:return e}},v=a(21),g=Object(o.combineReducers)({task:O}),h=Object(o.createStore)(g,Object(v.devToolsEnhancer)()),y=a(6),j=a(5),S=Object(j.a)([function(e){return e.task.tasks.entities}],(function(e){return e})),C=function(e){return e.task.tasks.ids},A=Object(j.a)([C],(function(e){return e})),N=Object(j.a)([function(e){return e.task.allSelected}],(function(e){return e})),L=Object(j.a)([function(e){return e.task.leftTasks}],(function(e){return e})),x=Object(j.a)([function(e){return e.task.filter}],(function(e){return e})),w=Object(j.a)([C],(function(e){return Boolean(e.length)})),F=Object(j.a)([C],(function(e){return e.length})),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(y.c)((function(a){return e(a,t)}))},K=function(e){var t=Object(y.b)();return Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({type:e,payload:a})}),[t,e])},P=a(17),B=a.n(P),I=a(18),R=a.n(I),J=a(10),V=a(3),M=a.n(V),H=a(2),W=a.n(H),G=Object(n.memo)((function(e){var t=e.isCheck,a=e.id,n=e.task,c=e.editMode,s=e.cacheValueTask,o=e.currentEditTask,l=e.changeBox,i=e.removeTask,u=e.startChangeTask,k=e.changeValueTask,f=e.stopChangeTask;return r.a.createElement("li",{className:M.a.item,onDoubleClick:u},c?r.a.createElement("input",{ref:o,autoFocus:!0,className:W()(M.a.edit,c&&M.a.active),value:s,onChange:function(e){return k(e.currentTarget.value)},onBlur:function(e){return f(e,s)},onKeyDown:function(e){return f(e,s)}}):r.a.createElement("label",{className:M.a.toggle},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{onClick:l,className:W()(M.a.checkboxCustom,t&&M.a.check)}),r.a.createElement("span",{className:M.a.text,id:a},n),r.a.createElement("button",{className:M.a.removeBtn,onClick:i}),r.a.createElement("button",{className:M.a.taskText})))})),Q=function(e){var t=e.id,a=e.isCheck,c=e.task,s=Object(n.useState)(!1),o=Object(J.a)(s,2),l=o[0],i=o[1],u=Object(n.useState)(""),k=Object(J.a)(u,2),f=k[0],d=k[1],m=K("CHANGE__CHECK"),_=K("REMOVE_TASK"),T=K("END_EDIT_TASK"),E=Object(n.useRef)(null),p=Object(n.useCallback)((function(e){d(e)}),[d]),b=function(e){T([t,a,e]),""===e&&_(t),i(!1)};return r.a.createElement(G,{isCheck:a,id:t,task:c,editMode:l,cacheValueTask:f,currentEditTask:E,changeBox:function(){m([t,!a,c])},removeTask:function(){_(t)},startChangeTask:function(){i(!0),d(c)},changeValueTask:p,stopChangeTask:function(e,t){"Enter"===e.key?b(t):e.currentTarget!==E.current||e.key?"Escape"===e.key&&b(c):b(t)}})},U=function(){var e=D(S),t=D(x),a=D(function(e,t){return Object(j.a)([C],(function(a){return a.filter((function(a){switch(e){case"All":return t[a];case"Active":return!t[a].check;case"Completed":return t[a].check;default:return t[a]}}))}))}(t,e));return e=a.map((function(t,a){return r.a.createElement(Q,{key:a,id:e[t].id,isCheck:e[t].check,task:e[t].title,tasks:e})})),r.a.createElement("section",{className:R.a.main},r.a.createElement("ul",{className:R.a.todoList},e))},Y=a(11),z=a.n(Y),X=Object(n.memo)((function(e){var t=e.isTasks,a=e.changeValue,n=e.selectAll,c=e.value,s=e.isAllSelected;return r.a.createElement("div",{className:z.a.header},r.a.createElement("input",{onChange:a,onKeyPress:a,autoFocus:!0,className:z.a.todosInput,value:c,placeholder:"What needs to be done?"}),t&&r.a.createElement("button",{onClick:n,className:W()(z.a.toggleAll,s&&z.a.active)}))})),Z=a(23),q=a.n(Z),$=function(e){var t=e.countTasks,a=D(N),c=K("ADD_TASK"),s=K("SELECT_ALL_TASK"),o=Object(n.useState)(""),l=Object(J.a)(o,2),i=l[0],u=l[1],k=Object(n.useCallback)((function(e){u(e.currentTarget.value),"Enter"===e.key&&e.currentTarget.value.trim()&&(c([q()(),e.currentTarget.value]),u(""))}),[u,c]);return r.a.createElement(X,{isTasks:t,selectAll:function(){s()},isAllSelected:Boolean(a),value:i,changeValue:k})},ee=a(1),te=a.n(ee),ae=function(e){var t=e.leftTasks,a=e.removeSelectedTask,n=e.filter,c=e.filterTasks,s=Object(y.c)(F);return r.a.createElement("div",{className:te.a.dataFooter},r.a.createElement("span",{className:te.a.todoCount},r.a.createElement("strong",null,t),"item left"),r.a.createElement("ul",{className:te.a.filters},r.a.createElement("li",null,r.a.createElement("a",{href:"#/All",className:W()(te.a.filterBtnJs,"All"===n&&te.a.active),onClick:function(e){return c(e.currentTarget.innerText)}},"All")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Active",className:W()(te.a.filterBtnJs,"Active"===n&&te.a.active),onClick:function(e){return c(e.currentTarget.innerText)}},"Active")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Completed",className:W()(te.a.filterBtnJs,"Completed"===n&&te.a.active),onClick:function(e){return c(e.currentTarget.innerText)}},"Completed"))),r.a.createElement("button",{className:W()(te.a.clear,t<s&&te.a.active),onClick:function(){a()}},"Clear completed"))},ne=function(){var e=D(L),t=D(x),a=K("REMOVE_SELECT_TASKS"),n=K("FILTER_TASKS");return r.a.createElement(ae,{leftTasks:e,removeSelectedTask:function(){a()},filter:t,filterTasks:function(e){n(e)}})},re=function(){var e=D(w);return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:B.a.headerText},"todos"),r.a.createElement("div",{className:B.a.todo},r.a.createElement($,{countTasks:e}),r.a.createElement(U,null),e&&r.a.createElement(ne,null)))};s.a.render(r.a.createElement(y.a,{store:h},r.a.createElement((function(){var e=D(S),t=D(x),a=D(A),c=K("CONTROL_ALL_SELECTED"),s=K("LEFT_TASKS");return Object(n.useEffect)((function(){var t=a.filter((function(t){return!e[t].check})).length;s(t),c()}),[e,a,c,s,t]),r.a.createElement(re,{tasks:e})}),null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.017f6e86.chunk.js.map