(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{1:function(e,t,a){e.exports={dataFooter:"Footer_dataFooter__1Qwen",todoCount:"Footer_todoCount__1CcRj",filters:"Footer_filters__5t2EO",clear:"Footer_clear__2aJGt",active:"Footer_active__14w6u",filterBtnJs:"Footer_filterBtnJs__2B824"}},11:function(e,t,a){e.exports={header:"FieldCreatingNewTasks_header__1O1fB",todosInput:"FieldCreatingNewTasks_todosInput__17N2v",toggleAll:"FieldCreatingNewTasks_toggleAll__2i-9Q",active:"FieldCreatingNewTasks_active__247XH"}},14:function(e,t,a){e.exports={headerText:"TodoList_headerText__2jkBW",todo:"TodoList_todo__1CS5R"}},15:function(e,t,a){e.exports={main:"TaskList_main__DLCrZ",todoList:"TaskList_todoList__2Aene"}},23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},3:function(e,t,a){e.exports={item:"Task_item__2Ugjx",removeBtn:"Task_removeBtn__3h8DL",toggle:"Task_toggle__A4FfK",redactor:"Task_redactor__3pPaR",taskText:"Task_taskText__uLqQR",checkboxCustom:"Task_checkboxCustom__26eOQ",text:"Task_text__2Hyq1",check:"Task_check__NIDTR",edit:"Task_edit__1wp3_",active:"Task_active__1EmoS"}},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),o=(a(28),a(5)),l=Object(o.a)([function(e){return e.task.tasks.entities}],(function(e){return e})),i=function(e){return e.task.tasks.ids},u=Object(o.a)([i],(function(e){return e})),k=Object(o.a)([function(e){return e.task.allSelected}],(function(e){return e})),f=Object(o.a)([function(e){return e.task.leftTasks}],(function(e){return e})),d=Object(o.a)([function(e){return e.task.filter}],(function(e){return e})),m=Object(o.a)([function(e){return Object.keys(e.task.tasks.entities).length}],(function(e){return e})),_=a(14),T=a.n(_),p=a(15),E=a.n(p),O=a(8),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(O.c)((function(a){return e(a,t)}))},g=a(10),v=a(3),h=a.n(v),y=a(2),j=a.n(y),C=Object(n.memo)((function(e){var t=e.isCheck,a=e.id,n=e.task,c=e.editMode,s=e.cacheValueTask,o=e.currentEditTask,l=e.changeBox,i=e.removeTask,u=e.startChangeTask,k=e.changeValueTask,f=e.stopChangeTask;return r.a.createElement("li",{className:h.a.item,onDoubleClick:u},c?r.a.createElement("input",{ref:o,autoFocus:!0,className:j()(h.a.edit,c&&h.a.active),value:s,onChange:function(e){return k(e.currentTarget.value)},onBlur:function(e){return f(e,s)},onKeyDown:function(e){return f(e,s)}}):r.a.createElement("label",{className:h.a.toggle},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{onClick:l,className:j()(h.a.checkboxCustom,t&&h.a.check)}),r.a.createElement("span",{className:h.a.text,id:a},n),r.a.createElement("button",{className:h.a.removeBtn,onClick:i}),r.a.createElement("button",{className:h.a.taskText})))})),S=function(e){var t=Object(O.b)();return Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({type:e,payload:a})}),[t,e])},A=function(e){var t=e.id,a=e.isCheck,c=e.task,s=Object(n.useState)(!1),o=Object(g.a)(s,2),l=o[0],i=o[1],u=Object(n.useState)(""),k=Object(g.a)(u,2),f=k[0],d=k[1],m=S("CHANGE__CHECK"),_=S("REMOVE_TASK"),T=S("END_EDIT_TASK"),p=Object(n.useRef)(null),E=Object(n.useCallback)((function(e){d(e)}),[d]),O=function(e){T([t,a,e]),""===e&&_(t),i(!1)};return r.a.createElement(C,{isCheck:a,id:t,task:c,editMode:l,cacheValueTask:f,currentEditTask:p,changeBox:function(){m([t,!a,c])},removeTask:function(){_(t)},startChangeTask:function(){i(!0),d(c)},changeValueTask:E,stopChangeTask:function(e,t){"Enter"===e.key?O(t):e.currentTarget!==p.current||e.key?"Escape"===e.key&&O(c):O(t)}})},N=function(){var e=b(l),t=b(d),a=b(function(e,t){return Object(o.a)([i],(function(a){return a.filter((function(a){switch(e){case"All":return t[a];case"Active":return!t[a].check;case"Completed":return t[a].check;default:return t[a]}}))}))}(t,e));return e=a.map((function(t,a){return r.a.createElement(A,{key:a,id:e[t].id,isCheck:e[t].check,task:e[t].title,tasks:e})})),r.a.createElement("section",{className:E.a.main},r.a.createElement("ul",{className:E.a.todoList},e))},L=a(11),x=a.n(L),w=Object(n.memo)((function(e){var t=e.isTasks,a=e.changeValue,n=e.selectAll,c=e.value,s=e.isAllSelected;return r.a.createElement("div",{className:x.a.header},r.a.createElement("input",{onChange:a,onKeyPress:a,autoFocus:!0,className:x.a.todosInput,value:c,placeholder:"What needs to be done?"}),t&&r.a.createElement("button",{onClick:n,className:j()(x.a.toggleAll,s&&x.a.active)}))})),D=a(22),F=a.n(D),K=function(e){var t=e.countTasks,a=b(k),c=S("ADD_TASK"),s=S("SELECT_ALL_TASK"),o=Object(n.useState)(""),l=Object(g.a)(o,2),i=l[0],u=l[1],f=Object(n.useCallback)((function(e){u(e.currentTarget.value),"Enter"===e.key&&e.currentTarget.value.trim()&&(c([F()(),e.currentTarget.value]),u(""))}),[u,c]);return r.a.createElement(w,{isTasks:Boolean(t),selectAll:function(){s()},isAllSelected:Boolean(a),value:i,changeValue:f})},B=a(1),P=a.n(B),R=function(e){var t=e.leftTasks,a=e.removeSelectedTask,n=e.countTasks,c=e.filter,s=e.filterTasks;return r.a.createElement("div",{className:P.a.dataFooter},r.a.createElement("span",{className:P.a.todoCount},r.a.createElement("strong",null,t),"item left"),r.a.createElement("ul",{className:P.a.filters},r.a.createElement("li",null,r.a.createElement("a",{href:"#/All",className:j()(P.a.filterBtnJs,"All"===c&&P.a.active),onClick:function(e){return s(e.currentTarget.innerText)}},"All")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Active",className:j()(P.a.filterBtnJs,"Active"===c&&P.a.active),onClick:function(e){return s(e.currentTarget.innerText)}},"Active")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/Completed",className:j()(P.a.filterBtnJs,"Completed"===c&&P.a.active),onClick:function(e){return s(e.currentTarget.innerText)}},"Completed"))),r.a.createElement("button",{className:j()(P.a.clear,t<n&&P.a.active),onClick:function(){a()}},"Clear completed"))},I=function(e){var t=e.countTasks,a=b(f),n=b(d),c=S("REMOVE_SELECT_TASKS"),s=S("FILTER_TASKS");return r.a.createElement(R,{leftTasks:a,removeSelectedTask:function(){c()},countTasks:t,filter:n,filterTasks:function(e){s(e)}})},J=function(){var e=b(m);return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:T.a.headerText},"todos"),r.a.createElement("div",{className:T.a.todo},r.a.createElement(K,{countTasks:e}),r.a.createElement(N,null),Boolean(e)&&r.a.createElement(I,{countTasks:e})))},V=function(){var e=b(l),t=b(d),a=b(u),c=S("CONTROL_ALL_SELECTED"),s=S("LEFT_TASKS");return Object(n.useEffect)((function(){var t=a.filter((function(t){return!e[t].check})).length;s(t),c()}),[e,a,c,s,t]),r.a.createElement(J,{tasks:e})},H=a(9),M=a(19),Q=a(6),G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},q=a(18);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(Q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return delete a[t],a},X=function(e,t){var a=e.indexOf(t);return e.splice(a,1),e};function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach((function(t){Object(Q.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Y={tasks:G("todo")},$={tasks:[new q.b.Entity("tasks")]},ee=Object(q.a)(Y,$);Y={tasks:{entities:ee.entities.tasks||[],ids:ee.result.tasks||[]},allSelected:!1,leftTasks:0,filter:G("filter","All")};var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=z({},e.tasks.entities),n=Object(M.a)(e.tasks.ids);switch(localStorage.setItem("todo",JSON.stringify(a)),localStorage.setItem("filter",JSON.stringify(e.filter)),t.type){case"ADD_TASK":return z({},e,{tasks:z({},e.tasks,{entities:z({},e.tasks.entities,Object(Q.a)({},t.payload[0],{id:t.payload[0],check:!1,title:t.payload[1]})),ids:[].concat(Object(M.a)(e.tasks.ids),[t.payload[0]])})});case"CHANGE__CHECK":return z({},e,{tasks:z({},e.tasks,{entities:z({},e.tasks.entities,Object(Q.a)({},t.payload[0],{id:t.payload[0],check:t.payload[1],title:t.payload[2]}))})});case"REMOVE_TASK":return z({},e,{tasks:z({},e.tasks,{ids:X(e.tasks.ids,t.payload),entities:U(e.tasks.entities,t.payload)})});case"REMOVE_SELECT_TASKS":return e.tasks.ids.map((function(e){a[e].check&&(delete a[e],n=X(n,e))})),z({},e,{tasks:{entities:a,ids:n}});case"SELECT_ALL_TASK":return n.map((function(t){return a[t].check=!e.allSelected})),z({},e,{tasks:{entities:a,ids:n}});case"CONTROL_ALL_SELECTED":return z({},e,{allSelected:!e.leftTasks&&e.tasks.ids.length});case"LEFT_TASKS":return z({},e,{leftTasks:t.payload});case"END_EDIT_TASK":return z({},e,{tasks:z({},e.tasks,{entities:z({},e.tasks.entities,Object(Q.a)({},t.payload[0],{id:t.payload[0],check:t.payload[1],title:t.payload[2]}))})});case"FILTER_TASKS":return z({},e,{filter:t.payload});default:return e}},ae=Object(H.b)({task:te}),ne=Object(H.c)(ae);s.a.render(r.a.createElement(O.a,{store:ne},r.a.createElement(V,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.4885e352.chunk.js.map