(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{1:function(e,t,a){e.exports={dataFooter:"Footer_dataFooter__22-Se",todoCount:"Footer_todoCount__1PuTS",filters:"Footer_filters__3dO_E",clear:"Footer_clear__3veQd",active:"Footer_active__EeWba",filterBtnJs:"Footer_filterBtnJs__2EB7K"}},10:function(e,t,a){e.exports={header:"FieldCreatingNewTasks_header__1NmQW",todosInput:"FieldCreatingNewTasks_todosInput__2t_Zs",toggleAll:"FieldCreatingNewTasks_toggleAll__ks75C",active:"FieldCreatingNewTasks_active__2-Sbv"}},18:function(e,t,a){e.exports={headerText:"TodoList_headerText__2jkBW",todo:"TodoList_todo__1CS5R"}},19:function(e,t,a){e.exports={main:"TaskList_main__1SuYp",todoList:"TaskList_todoList__2mKL_"}},24:function(e,t,a){e.exports=a(35)},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),o=(a(29),a(8)),l=a(11),i=a(13),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):t},k=a(15);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var d=function(e,t){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);return delete a[t],a},m=function(e,t){var a=e.indexOf(t);return e.splice(a,1),e},_=function(e){return JSON.parse(JSON.stringify(e))};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={tasks:u("todo")},h={tasks:[new k.b.Entity("tasks")]},p=Object(k.a)(v,h);v={tasks:{entities:p.entities.tasks||{},ids:p.result.tasks||[]},filter:u("filter","all")};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TASK_STATUS":var a=t.payload,n=_(e.tasks);return n.entities[a].check=!n.entities[a].check,T({},e,{tasks:n});case"ADD_TASK":var r=t.payload,c=r.id,s=r.title,o=_(e.tasks);return o.entities[c]={id:c,check:!1,title:s},o.ids=[].concat(Object(l.a)(o.ids),[c]),T({},e,{tasks:o});case"REMOVE_TASK":var i=T({},e.tasks.entities),u=Object(l.a)(e.tasks.ids);return T({},e,{tasks:T({},e.tasks,{entities:d(i,t.payload),ids:m(u,t.payload)})});case"REMOVE_SELECT_TASKS":var k=T({},e.tasks.entities),f=Object(l.a)(e.tasks.ids);return e.tasks.ids.map((function(e){k[e].check&&(delete k[e],f=m(f,e))})),T({},e,{tasks:{entities:k,ids:f}});case"SELECT_ALL_TASK":var b=T({},e.tasks.entities),h=Object(l.a)(e.tasks.ids);return h.map((function(e){return b[e].check=t.payload})),T({},e,{tasks:{entities:b,ids:h}});case"CHANGE_TASK_TITLE":var p=t.payload,O=p.id,E=p.title,g=_(e.tasks);return g.entities[O]={id:O,check:g.entities[O].check,title:E},T({},e,{tasks:g});case"FILTER_TASKS":return T({},e,{filter:t.payload});default:return e}},E=a(21),g=Object(o.combineReducers)({task:O}),C=Object(o.createStore)(g,Object(E.devToolsEnhancer)());C.subscribe((function(){localStorage.setItem("todo",JSON.stringify(C.getState().task.tasks.entities)),localStorage.setItem("filter",JSON.stringify(C.getState().task.filter))}));var j=C,S=a(9),y=a(18),A=a.n(y),N=a(5),w=a(19),x=a.n(w),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(S.c)((function(a){return e(a,t)}))},F=a(7),K=function(e){return e.task.tasks.entities},P=function(e){return e.task.tasks.ids},B=function(e){return e.task.filter},I=Object(F.a)([B],(function(e){return e})),D=Object(F.a)([P,B,K],(function(e,t,a){switch(t){case"All":return[e.filter((function(e){return a[e]})),a];case"Active":return[e.filter((function(e){return!a[e].check})),a];case"Completed":return[e.filter((function(e){return a[e].check})),a];default:return[e.filter((function(e){return a[e]})),a]}})),J=Object(F.a)([P],(function(e){return e.length})),H=Object(F.a)([J],(function(e){return Boolean(e)})),R=Object(F.a)([K,P],(function(e,t){return t.some((function(t){return!e[t].check}))})),V=Object(F.a)([K,P],(function(e,t){return t.filter((function(t){return!e[t].check})).length})),M=a(4),W=a.n(M),G=a(2),U=a.n(G),z=Object(n.memo)((function(e){var t=e.isCheck,a=e.task,n=e.editMode,c=e.cacheValueTask,s=e.changeCheckBox,o=e.removeTask,l=e.startChangeTask,i=e.onChangeHandler,u=e.stopChangeTaskHandler,k=e.stopChangeTasksHandlerBlur;return r.a.createElement("li",{className:W.a.item},n?r.a.createElement("input",{autoFocus:!0,className:U()(W.a.edit,n&&W.a.active),value:c,onChange:i,onBlur:k,onKeyDown:u}):r.a.createElement("label",{className:W.a.toggle},r.a.createElement("input",{type:"checkbox"}),r.a.createElement("span",{onClick:s,className:U()(W.a.checkboxCustom,t&&W.a.check)}),r.a.createElement("span",{className:W.a.text,onDoubleClick:l},a),r.a.createElement("button",{className:W.a.removeBtn,onClick:o})))})),Q=function(e){var t=Object(S.b)();return Object(n.useCallback)((function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t({type:e,payload:a})}),[t,e])},Y=function(e){var t=e.id,a=e.isCheck,c=e.task,s=Object(n.useState)(!1),o=Object(N.a)(s,2),l=o[0],i=o[1],u=Object(n.useState)(""),k=Object(N.a)(u,2),f=k[0],d=k[1],m=Q("CHANGE_TASK_STATUS"),_=Q("REMOVE_TASK"),b=Q("CHANGE_TASK_TITLE"),T=Object(n.useCallback)((function(){m(t)}),[m,t]),v=Object(n.useCallback)((function(e){d(e.currentTarget.value)}),[d]),h=Object(n.useCallback)((function(e){b({id:t,title:e}),""===e&&_(t),i(!1)}),[b,_,t]),p=Object(n.useCallback)((function(e){h(e.currentTarget.value)}),[h]),O=Object(n.useCallback)((function(e){"Enter"===e.key?h(e.currentTarget.value):"Escape"===e.key&&i(!1)}),[h]);return r.a.createElement(z,{isCheck:a,task:c,editMode:l,cacheValueTask:f,changeCheckBox:T,removeTask:function(){_(t)},startChangeTask:function(){i(!0),d(c)},onChangeHandler:v,stopChangeTaskHandler:O,stopChangeTasksHandlerBlur:p})},X=function(){var e=L(D),t=Object(N.a)(e,2),a=t[0],n=t[1],c=a.map((function(e){return r.a.createElement(Y,{key:e,id:e,isCheck:n[e].check,task:n[e].title})}));return r.a.createElement("section",{className:x.a.main},r.a.createElement("ul",{className:x.a.todoList},c))},Z=a(10),q=a.n(Z),$=Object(n.memo)((function(e){var t=e.isTasks,a=e.changeValue,n=e.selectAll,c=e.value,s=e.isAllSelected;return r.a.createElement("div",{className:q.a.header},r.a.createElement("input",{onChange:a,onKeyPress:a,autoFocus:!0,className:q.a.todosInput,value:c,placeholder:"What needs to be done?"}),t&&r.a.createElement("button",{onClick:n,className:U()(q.a.toggleAll,!s&&q.a.active)}))})),ee=a(23),te=a.n(ee),ae=function(e){var t=e.countTasks,a=L(R),c=Q("ADD_TASK"),s=Q("SELECT_ALL_TASK"),o=Object(n.useState)(""),l=Object(N.a)(o,2),i=l[0],u=l[1],k=Object(n.useCallback)((function(e){u(e.currentTarget.value),"Enter"===e.key&&e.currentTarget.value.trim()&&(c({id:te()(),title:e.currentTarget.value}),u(""))}),[u,c]);return r.a.createElement($,{isTasks:t,selectAll:function(){s(a)},isAllSelected:a,value:i,changeValue:k})},ne=a(1),re=a.n(ne),ce=function(e){var t=e.leftTasks,a=e.removeSelectedTask,n=e.filter,c=e.showAllTasks,s=e.showActiveTasks,o=e.showCompletedTasks,l=e.countTasks;return r.a.createElement("div",{className:re.a.dataFooter},r.a.createElement("span",{className:re.a.todoCount},r.a.createElement("strong",null,t),"item left"),r.a.createElement("ul",{className:re.a.filters},r.a.createElement("li",null,r.a.createElement("a",{href:"/#/all",className:U()(re.a.filterBtnJs,"all"===n&&re.a.active),onClick:c},"All")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#/active",className:U()(re.a.filterBtnJs,"active"===n&&re.a.active),onClick:s},"Active")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#/completed",className:U()(re.a.filterBtnJs,"completed"===n&&re.a.active),onClick:o},"Completed"))),r.a.createElement("button",{className:U()(re.a.clear,t<l&&re.a.active),onClick:function(){a()}},"Clear completed"))},se=function(){var e=L(V),t=L(I),a=Q("REMOVE_SELECT_TASKS"),c=Q("FILTER_TASKS"),s=L(J);Object(n.useEffect)((function(){var e=window.location.hash.match(/[a-z]+/gim);null!==e&&c(e[0])}),[]);var o=Object(n.useCallback)((function(){c("all")}),[c]),l=Object(n.useCallback)((function(){c("active")}),[c]),i=Object(n.useCallback)((function(){c("completed")}),[c]),u=Object(n.useCallback)((function(){a()}),[a]);return r.a.createElement(ce,{leftTasks:e,removeSelectedTask:u,filter:t,showAllTasks:o,showActiveTasks:l,showCompletedTasks:i,countTasks:s})},oe=function(){var e=L(H);return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:A.a.headerText},"todos"),r.a.createElement("div",{className:A.a.todo},r.a.createElement(ae,{countTasks:e}),r.a.createElement(X,null),e&&r.a.createElement(se,null)))};s.a.render(r.a.createElement(S.a,{store:j},r.a.createElement((function(){return r.a.createElement(oe,null)}),null)),document.getElementById("root"))},4:function(e,t,a){e.exports={item:"Task_item__JiYci",removeBtn:"Task_removeBtn__1sz5U",toggle:"Task_toggle__3fEH1",redactor:"Task_redactor__1I0yX",taskText:"Task_taskText__3Uucy",checkboxCustom:"Task_checkboxCustom__3Iipx",text:"Task_text__1RRNW",check:"Task_check__1LVuI",edit:"Task_edit__10Fv9",active:"Task_active__31Jxc"}}},[[24,1,2]]]);
//# sourceMappingURL=main.69f9d0de.chunk.js.map